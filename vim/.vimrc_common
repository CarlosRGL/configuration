" ================================================================
" Fichier de configuration portable pour utilisation à travers SSH
" ================================================================

if filereadable("/usr/share/vim/vimrc")
    source /usr/share/vim/vimrc
endif

set enc=utf-8
set et sw=4 ts=4
set is ic hls
syntax on
set listchars=tab:_\ ,trail:\ ,extends:>,precedes:<,nbsp:.
set list
set mouse=a " pour que la souris fonctionnne aussi dans le terminal
set mousemodel=popup

" highlight 'en space'U+2002 and 'em space'U+2003
au VimEnter,BufWinEnter * syn match ErrorMsg " "
au VimEnter,BufWinEnter * syn match ErrorMsg " "

" =================================
" Statusline personnalisee (deluxe)
" =================================
if has('statusline')
    set statusline=[%n]\ %<%F\ \ %=%-19(\LINE\ %3l[%02c%03V]/%3L%)\ %{\"[\".(&fenc==\"\"?&enc:&fenc).((exists(\"+bomb\")\ &&\ &bomb)?\",B\":\"\").\"]\"}\ %P
    set laststatus=2 " Statusline on all windows
    set ruler " Where am I
    set ch=4 " Make command line two lines high
    set shm="aAI" " What will be shown on the commandline
    set showcmd " show partial commands in status line and selected characters/lines in visual mode
endif

" ====================
" Touche TAB améliorée
" ====================
" decalage en mode visuel
vmap <TAB> >gv
vmap <S-TAB> <gv
" ouvrir un nouvel onglet
map <C-T> :tabnew<CR><ESC>:edit .<CR>
" ouvrir les tags dans un nouveal onglet
map <C-\> :tab split<CR>:exec("tag ".expand("<cword>"))<CR>
" ouvre le fichier sous le curseur dans un nouvel onglet
map gf :tabnew <cfile><CR>
let g:netrw_browse_split=3 " ouvre les fichiers de netrw dans un nouvel onglet

" navigue entre les onglets
map <F2> gt
map <F1> gT
imap <F2> <ESC>gt
imap <F1> <ESC>gT

" colorscheme
set t_Co=256
" terminal/gui equivalent colorscheme, based on slate
let macvim_skip_colorscheme=1
set background=dark
highlight clear
hi Normal ctermbg=235 guibg=#262626 ctermfg=15 guifg=#ffffff

" TODO
hi Cursor ctermbg=9 guibg=#ff0000

hi VertSplit guibg=#121212 guifg=#c0c0c0 ctermbg=233 ctermfg=7
hi Folded guibg=#c0c0c0 guifg=#ffffff ctermfg=15 ctermbg=7 cterm=bold gui=bold
hi FoldColumn guibg=#c0c0c0 guifg=#ffffff ctermfg=15 ctermbg=7
hi IncSearch guifg=#ffff00 guibg=#000000 cterm=reverse,bold ctermfg=11 ctermbg=0

hi ModeMsg guifg=#00d75f ctermfg=41
hi MoreMsg guifg=#008000 ctermfg=2
" highlight NonText cterm=underline gui=underline ctermbg=darkblue guibg=darkblue ctermfg=blue guifg=blue
hi NonText guifg=#0000ff guibg=#000000 cterm=bold ctermfg=12
hi Question guifg=#00ff00 ctermfg=10
hi Search guibg=#000000 guifg=#ffff00 gui=reverse cterm=reverse ctermfg=11 ctermbg=0

" TODO
hi SpecialKey term=none cterm=underline gui=underline ctermbg=0 ctermfg=17 guibg=#000000 guifg=#00005f

hi StatusLine guibg=#c0c0c0 guifg=#000000 ctermbg=0 ctermfg=7 gui=bold cterm=bold,reverse
hi StatusLineNC guibg=#808080 guifg=#000000 ctermbg=0 ctermfg=8 gui=none cterm=reverse

" TODO
hi Title guifg=gold gui=bold cterm=bold ctermfg=yellow

hi Statement guifg=#00d75f ctermfg=41 cterm=bold gui=bold

hi Visual gui=none guifg=#000000 cterm=reverse ctermbg=0
hi WarningMsg guifg=#af0000 ctermfg=1
hi String guifg=#bcbcbc ctermfg=250 guibg=#121212 ctermbg=233
hi Comment ctermfg=242 guifg=#666666
hi phpDocTags cterm=bold gui=bold ctermfg=242 guifg=#666666
hi Constant guifg=#ff8787 ctermfg=210 gui=bold cterm=bold
hi Special guifg=#ffff00 ctermfg=11 cterm=bold gui=bold
hi Number ctermfg=210 guifg=#ff8787 gui=none cterm=none
hi Identifier guifg=#00afff ctermfg=39
hi Include guifg=#ff0000 ctermfg=9
hi PreProc guifg=#d70000 ctermfg=160
hi Operator guifg=#ff5f5f ctermfg=203 gui=bold cterm=bold
hi Define guifg=#00afaf ctermfg=37 gui=bold cterm=bold
hi Type guifg=#5fafff ctermfg=75 gui=none cterm=none
hi Function guifg=#00d7ff ctermfg=45
hi Structure guifg=#5f5fff ctermfg=63
hi LineNr guifg=#808080 ctermfg=8

" TODO
hi Ignore guifg=grey40 cterm=bold ctermfg=7

hi Todo ctermbg=2 ctermfg=10 guibg=#008000 guifg=#00ff00
hi Directory guifg=#008080 ctermfg=6

hi ErrorMsg guifg=#ffffff guibg=#af0000 gui=bold cterm=bold ctermfg=15 ctermbg=1

" TODO
hi VisualNOS cterm=bold,underline

hi WildMenu ctermfg=0 ctermbg=3
hi DiffAdd cterm=none ctermbg=22 gui=none guibg=#264426
hi DiffChange cterm=none ctermbg=240  gui=none guibg=#3a3a3a
hi DiffDelete cterm=none ctermfg=235 ctermbg=0  gui=none guifg=#262626 guibg=#000000
hi DiffText cterm=bold ctermbg=52 gui=none guibg=DarkRed
